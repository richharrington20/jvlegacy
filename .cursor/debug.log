{
    "id": "log_1765756180_693f4d144784c",
    "timestamp": 1765756180292,
    "location": "scan_all_blade.php",
    "message": "Found Blade files",
    "data": {
        "count": 77,
        "files": [
            "resources\/views\/welcome.blade.php",
            "resources\/views\/flux\/icon\/layout-grid.blade.php",
            "resources\/views\/flux\/icon\/folder-git-2.blade.php",
            "resources\/views\/flux\/icon\/chevrons-up-down.blade.php",
            "resources\/views\/flux\/icon\/book-open-text.blade.php",
            "resources\/views\/flux\/navlist\/group.blade.php",
            "resources\/views\/projects\/index.blade.php",
            "resources\/views\/projects\/show.blade.php",
            "resources\/views\/emails\/project_documents.blade.php",
            "resources\/views\/emails\/project_update.blade.php",
            "resources\/views\/emails\/support_ticket_confirmation.blade.php",
            "resources\/views\/admin\/changelog\/index.blade.php",
            "resources\/views\/admin\/changelog\/create.blade.php",
            "resources\/views\/admin\/email-templates\/index.blade.php",
            "resources\/views\/admin\/email-templates\/edit.blade.php",
            "resources\/views\/admin\/projects\/index.blade.php",
            "resources\/views\/admin\/projects\/edit.blade.php",
            "resources\/views\/admin\/projects\/create.blade.php",
            "resources\/views\/admin\/projects\/show.blade.php",
            "resources\/views\/admin\/updates\/index.blade.php",
            "resources\/views\/admin\/updates\/edit.blade.php",
            "resources\/views\/admin\/updates\/bulk_email_preflight.blade.php",
            "resources\/views\/admin\/updates\/show.blade.php",
            "resources\/views\/admin\/dashboard.blade.php",
            "resources\/views\/admin\/accounts\/index.blade.php",
            "resources\/views\/admin\/accounts\/create.blade.php",
            "resources\/views\/admin\/accounts\/show.blade.php",
            "resources\/views\/admin\/system-status\/index.blade.php",
            "resources\/views\/admin\/system-status\/edit.blade.php",
            "resources\/views\/admin\/system-status\/create.blade.php",
            "resources\/views\/admin\/investments\/index.blade.php",
            "resources\/views\/admin\/investments\/edit.blade.php",
            "resources\/views\/admin\/investments\/create.blade.php",
            "resources\/views\/components\/settings\/layout.blade.php",
            "resources\/views\/components\/app-logo-icon.blade.php",
            "resources\/views\/components\/auth-header.blade.php",
            "resources\/views\/components\/agreements\/shareholders.blade.php",
            "resources\/views\/components\/action-message.blade.php",
            "resources\/views\/components\/app-logo.blade.php",
            "resources\/views\/components\/placeholder-pattern.blade.php",
            "resources\/views\/components\/layouts\/auth.blade.php",
            "resources\/views\/components\/layouts\/app\/header.blade.php",
            "resources\/views\/components\/layouts\/app\/sidebar.blade.php",
            "resources\/views\/components\/layouts\/auth\/card.blade.php",
            "resources\/views\/components\/layouts\/auth\/simple.blade.php",
            "resources\/views\/components\/layouts\/auth\/split.blade.php",
            "resources\/views\/components\/layouts\/app.blade.php",
            "resources\/views\/components\/auth-session-status.blade.php",
            "resources\/views\/dashboard.blade.php",
            "resources\/views\/livewire\/settings\/delete-user-form.blade.php",
            "resources\/views\/livewire\/settings\/password.blade.php",
            "resources\/views\/livewire\/settings\/appearance.blade.php",
            "resources\/views\/livewire\/settings\/profile.blade.php",
            "resources\/views\/livewire\/auth\/reset-password.blade.php",
            "resources\/views\/livewire\/auth\/register.blade.php",
            "resources\/views\/livewire\/auth\/confirm-password.blade.php",
            "resources\/views\/livewire\/auth\/forgot-password.blade.php",
            "resources\/views\/livewire\/auth\/verify-email.blade.php",
            "resources\/views\/livewire\/auth\/login.blade.php",
            "resources\/views\/layouts\/public.blade.php",
            "resources\/views\/layouts\/app.blade.php",
            "resources\/views\/layouts\/admin.blade.php",
            "resources\/views\/errors\/404.blade.php",
            "resources\/views\/investor\/auth\/login.blade.php",
            "resources\/views\/investor\/dashboard.blade.php",
            "resources\/views\/partials\/head.blade.php",
            "resources\/views\/partials\/settings-heading.blade.php",
            "resources\/views\/home.blade.php",
            "resources\/views\/vendor\/pagination\/simple-bootstrap-4.blade.php",
            "resources\/views\/vendor\/pagination\/bootstrap-5.blade.php",
            "resources\/views\/vendor\/pagination\/simple-default.blade.php",
            "resources\/views\/vendor\/pagination\/simple-bootstrap-5.blade.php",
            "resources\/views\/vendor\/pagination\/bootstrap-4.blade.php",
            "resources\/views\/vendor\/pagination\/simple-tailwind.blade.php",
            "resources\/views\/vendor\/pagination\/tailwind.blade.php",
            "resources\/views\/vendor\/pagination\/semantic-ui.blade.php",
            "resources\/views\/vendor\/pagination\/default.blade.php"
        ]
    },
    "sessionId": "debug-session",
    "runId": "full-scan",
    "hypothesisId": "SCAN"
}
{
    "id": "log_1765756180_693f4d144a236",
    "timestamp": 1765756180303,
    "location": "scan_all_blade.php",
    "message": "Issues found",
    "data": {
        "total_issues": 1,
        "issues": [
            {
                "file": "resources\/views\/emails\/project_documents.blade.php",
                "type": "blade_in_php",
                "directives": [
                    {
                        "line": 7,
                        "directive": "foreach",
                        "file": "resources\/views\/emails\/project_documents.blade.php"
                    },
                    {
                        "line": 11,
                        "directive": "endforeach",
                        "file": "resources\/views\/emails\/project_documents.blade.php"
                    }
                ]
            }
        ]
    },
    "sessionId": "debug-session",
    "runId": "full-scan",
    "hypothesisId": "SCAN"
}
{
    "id": "log_1765756180_693f4d144a335",
    "timestamp": 1765756180303,
    "location": "scan_all_blade.php",
    "message": "Detailed dashboard analysis",
    "data": {
        "unclosed_count": 0,
        "unclosed": [],
        "total_lines": 1669,
        "last_10_lines": [
            "        }",
            "    }",
            "}",
            "<\/script>",
            "",
            "@endpush",
            "",
            "@endsection",
            "",
            ""
        ]
    },
    "sessionId": "debug-session",
    "runId": "full-scan",
    "hypothesisId": "K"
}
{
    "id": "log_1765756180_693f4d144a35f",
    "timestamp": 1765756180303,
    "location": "scan_all_blade.php",
    "message": "End of file analysis",
    "data": {
        "last_20_lines": [
            {
                "line_num": 1650,
                "content": "                }",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1651,
                "content": "            } catch (error) {",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1652,
                "content": "                alert('Error removing access: ' + error.message);",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1653,
                "content": "            }",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1654,
                "content": "        },",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1655,
                "content": "        ",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1656,
                "content": "        formatDate(dateString) {",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1657,
                "content": "            if (!dateString) return '';",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1658,
                "content": "            const date = new Date(dateString);",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1659,
                "content": "            return date.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1660,
                "content": "        }",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1661,
                "content": "    }",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1662,
                "content": "}",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1663,
                "content": "<\/script>",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1664,
                "content": "",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1665,
                "content": "@endpush",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1666,
                "content": "",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1667,
                "content": "@endsection",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1668,
                "content": "",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            },
            {
                "line_num": 1669,
                "content": "",
                "has_if": 0,
                "has_endif": 0,
                "has_elseif": 0,
                "has_else": 0
            }
        ]
    },
    "sessionId": "debug-session",
    "runId": "full-scan",
    "hypothesisId": "L"
}
{
    "id": "log_1765756215_693f4d3735cb5",
    "timestamp": 1765756215220,
    "location": "trace_elseif_blocks.php",
    "message": "Blocks with @elseif\/@else analysis",
    "data": {
        "total_blocks": 44,
        "blocks_with_else": {
            "1": {
                "start_line": 34,
                "content": "@if($account->person)",
                "has_elseif": true,
                "has_else": false,
                "elseif_lines": [
                    49
                ],
                "else_line": null,
                "endif_line": 54,
                "status": "closed"
            },
            "7": {
                "start_line": 238,
                "content": "@if($recentUpdates->count() > 0)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 305,
                "endif_line": 307,
                "status": "closed"
            },
            "15": {
                "start_line": 485,
                "content": "@if($investment->paid_on)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 503,
                "endif_line": 505,
                "status": "closed"
            },
            "16": {
                "start_line": 336,
                "content": "@if($project)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 458,
                "endif_line": 519,
                "status": "closed"
            },
            "19": {
                "start_line": 562,
                "content": "@if(isset($accountDocuments) && $accountDocuments->count() > 0)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 587,
                "endif_line": 593,
                "status": "closed"
            },
            "22": {
                "start_line": 635,
                "content": "@if($documents->count() > 0)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 680,
                "endif_line": 686,
                "status": "closed"
            },
            "23": {
                "start_line": 597,
                "content": "@if(count($investments) > 0)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 689,
                "endif_line": 697,
                "status": "closed"
            },
            "25": {
                "start_line": 774,
                "content": "@if($payout->paid)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 796,
                "endif_line": 800,
                "status": "closed"
            },
            "29": {
                "start_line": 906,
                "content": "@if(isset($email->documents) && $email->documents->count() > 0)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 912,
                "endif_line": 914,
                "status": "closed"
            },
            "34": {
                "start_line": 903,
                "content": "@if(($email->email_type ?? '') === 'document')",
                "has_elseif": true,
                "has_else": true,
                "elseif_lines": [
                    916,
                    934
                ],
                "else_line": 943,
                "endif_line": 947,
                "status": "closed"
            },
            "36": {
                "start_line": 824,
                "content": "@if($hasEmailHistory)",
                "has_elseif": false,
                "has_else": true,
                "elseif_lines": [],
                "else_line": 958,
                "endif_line": 970,
                "status": "closed"
            },
            "38": {
                "start_line": 1261,
                "content": "@if($systemStatus->status_type === 'error')",
                "has_elseif": true,
                "has_else": true,
                "elseif_lines": [
                    1263,
                    1265,
                    1267
                ],
                "else_line": 1269,
                "endif_line": 1271,
                "status": "closed"
            },
            "39": {
                "start_line": 1279,
                "content": "@if($systemStatus->created_on)",
                "has_elseif": true,
                "has_else": false,
                "elseif_lines": [
                    1281
                ],
                "else_line": null,
                "endif_line": 1283,
                "status": "closed"
            }
        },
        "problematic_blocks": [],
        "unclosed_blocks": []
    },
    "sessionId": "debug-session",
    "runId": "trace-elseif",
    "hypothesisId": "M"
}
{
    "id": "log_1765756215_693f4d3735eb9",
    "timestamp": 1765756215220,
    "location": "trace_elseif_blocks.php",
    "message": "Detailed trace of all @if blocks",
    "data": {
        "total_traced": 44,
        "unclosed_count": 0,
        "unclosed": [],
        "last_10_blocks": [
            {
                "if_line": 903,
                "endif_line": 947,
                "has_elseif": true,
                "has_else": true,
                "if_content": "@if(($email->email_type ?? '') === 'document')"
            },
            {
                "if_line": 953,
                "endif_line": 957,
                "has_elseif": false,
                "has_else": false,
                "if_content": "@if(isset($emailHistory) && $emailHistory instanceof \\Illuminate\\Pagination\\LengthAwarePaginator && $emailHistory->hasPages())"
            },
            {
                "if_line": 824,
                "endif_line": 970,
                "has_elseif": false,
                "has_else": true,
                "if_content": "@if($hasEmailHistory)"
            },
            {
                "if_line": 1003,
                "endif_line": 1005,
                "has_elseif": false,
                "has_else": false,
                "if_content": "@if($project && $project->project_id)"
            },
            {
                "if_line": 1261,
                "endif_line": 1271,
                "has_elseif": true,
                "has_else": true,
                "if_content": "@if($systemStatus->status_type === 'error')"
            },
            {
                "if_line": 1279,
                "endif_line": 1283,
                "has_elseif": true,
                "has_else": false,
                "if_content": "@if($systemStatus->created_on)"
            },
            {
                "if_line": 1331,
                "endif_line": 1335,
                "has_elseif": false,
                "has_else": false,
                "if_content": "@if($update->fixedBy)"
            },
            {
                "if_line": 1327,
                "endif_line": 1336,
                "has_elseif": false,
                "has_else": false,
                "if_content": "@if($update->is_fixed)"
            },
            {
                "if_line": 1298,
                "endif_line": 1345,
                "has_elseif": false,
                "has_else": false,
                "if_content": "@if($statusUpdates->isNotEmpty())"
            },
            {
                "if_line": 1257,
                "endif_line": 1349,
                "has_elseif": false,
                "has_else": false,
                "if_content": "@if(isset($systemStatus) && $systemStatus)"
            }
        ]
    },
    "sessionId": "debug-session",
    "runId": "trace-elseif",
    "hypothesisId": "N"
}
